(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2IQ8o",image:"ImageGalleryItem_image__1J_6G"}},11:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__hm5YK"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__27V9D",Modal:"Modal_Modal__1L78N"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1sLBr",loader:"ImageGallery_loader__ktHPd",modalImg:"ImageGallery_modalImg__vkHur"}},16:function(e,t,a){e.exports={Button:"Button_Button__1YlnC"}},22:function(e,t,a){},23:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=(a(22),a(3)),s=a(5),l=(a(23),a(24),a(17)),u=a(7),m=a.n(u),j=a(1);var d=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(j.jsx)("header",{className:m.a.bar,children:Object(j.jsxs)("form",{className:m.a.form,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):s.b.warn("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f")},children:[Object(j.jsx)("button",{type:"submit",className:m.a.button,children:Object(j.jsx)(l.a,{})}),Object(j.jsx)("input",{className:m.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.currentTarget.value.toLowerCase();o(t)}})]})})},b=a(14),g=a(2),f=a.n(g);function h(e,t){return fetch("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&per_page=12&page=").concat(t,"&key=").concat("24169553-082afd50aec2e2c887c16645d")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0442\u0435\u043c\u0443 ".concat(e)))})).then((function(t){return 0===t.hits.length&&s.b.warn("\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0442\u0435\u043c\u0443 ".concat(e," \u043d\u0435\u0442")),t.hits}))}h.propType={imageName:f.a.string.isRequired,page:f.a.number.isRequired};var O=h,p=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},_=a(10),v=a.n(_);function x(e){var t=e.digImg,a=e.smallImg,n=e.onClick;return Object(j.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:a,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430","data-img":t,className:v.a.image,onClick:n})})}x.propType={digImg:f.a.string.isRequired,smallImg:f.a.string.isRequired,onClick:f.a.func.isRequired};var y=x,I=a(15),k=a.n(I),N=a(11),w=a.n(N);var S=function(e){var t=e.imageslist,a=e.onImageClick,n=e.louder;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:w.a.ImageGallery,children:t.map((function(e){return Object(j.jsx)(y,{smallImg:e.webformatURL,digImg:e.largeImageURL,onClick:a},e.id)}))}),n&&Object(j.jsx)(k.a,{className:w.a.loader,type:"ThreeDots",color:"#3E55B3",height:80,width:80})]})},C=a(16),G=a.n(C);var q=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",name:"Load more",className:G.a.Button,onClick:t,children:Object(j.jsx)("span",{className:"lable",children:"Load more"})})},E=a(12),R=a.n(E),L=document.querySelector("#modal-root");function T(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){function e(e){"Escape"===e.code&&t()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(j.jsx)("div",{className:R.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:R.a.Modal,children:a})}),L)}T.propType={onClose:f.a.func.isRequired,children:f.a.node.isRequired};var B=T,M=a(13),P=a.n(M);a(46);function D(e){var t=e.imageName,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)(null),g=Object(i.a)(d,2),f=g[0],h=g[1],_=Object(n.useState)("idle"),v=Object(i.a)(_,2),x=v[0],y=v[1],I=Object(n.useState)(!1),k=Object(i.a)(I,2),N=k[0],w=k[1],C=Object(n.useState)(""),G=Object(i.a)(C,2),E=G[0],R=G[1],L=Object(n.useState)(!1),T=Object(i.a)(L,2),M=T[0],D=T[1];Object(n.useEffect)((function(){t&&(o([]),H(t))}),[t]),Object(n.useEffect)((function(e){t&&e(t,u)}),[u]);var H=function(){D(!0),O(t,u).then((function(e){y("resolved"),o((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e))})),D(!1),u>1&&p()})).catch((function(e){h(e),y("resjected")}))};return"idle"===x?Object(j.jsx)("h1",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}):"resjected"===x?Object(j.jsx)("h1",{children:f.message}):"resolved"===x?Object(j.jsxs)("div",{className:P.a.imageGallery,children:[Object(j.jsx)(S,{imageslist:r,onImageClick:function(e){var t=e.target.dataset.img;R(t),w(!0)},louder:M}),r.length>1&&Object(j.jsx)(q,{onClick:function(){return m((function(e){return e+1}))}}),N&&Object(j.jsx)(B,{onClose:function(){return w(!N)},children:Object(j.jsx)("img",{className:P.a.modalImg,src:E,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})})]}):void 0}D.propType={imageName:f.a.string.isRequired};var H=D;var J=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{onSubmit:function(e){return c(e)}}),Object(j.jsx)(H,{imageName:a}),Object(j.jsx)(s.a,{autoClose:2500})]})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={bar:"Searchbar_bar__3_oGY",form:"Searchbar_form__Q9w4P",button:"Searchbar_button__2t38K",input:"Searchbar_input__1p8oj"}}},[[47,1,2]]]);
//# sourceMappingURL=main.b764cb5f.chunk.js.map